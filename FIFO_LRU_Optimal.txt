 #include <iostream>
 #include <climits>
 using namespace std;
 int simulateFIFO(int pages[], int pageCount, int frameCount) {
    int frames[10];
    for (int i = 0; i < frameCount; i++) frames[i] = -1;
    int nextReplace = 0, faults = 0;
    for (int i = 0; i < pageCount; i++) {
        bool found = false;
        for (int j = 0; j < frameCount; j++) if (frames[j] == pages[i]) found = true;
        if (!found) {
            frames[nextReplace] = pages[i];
            nextReplace = (nextReplace + 1) % frameCount;
            faults++;
        }
    }
    return faults;
 }
 int simulateLRU(int pages[], int pageCount, int frameCount) {
    int frames[10], timeStamp[10];
    for (int i = 0; i < frameCount; i++) { frames[i] = -1; timeStamp[i] = 0; }
    int faults = 0, currentTime = 0;
    for (int i = 0; i < pageCount; i++) {
        currentTime++;
        bool found = false;
        for (int j = 0; j < frameCount; j++) if (frames[j] == pages[i]) { found = true;
 timeStamp[j] = currentTime; break; }
        if (!found) {
            int lruIndex = 0, minTime = INT_MAX;
            for (int j = 0; j < frameCount; j++) if (timeStamp[j] < minTime) { minTime =
 timeStamp[j]; lruIndex = j; }
            frames[lruIndex] = pages[i];
            timeStamp[lruIndex] = currentTime;
            faults++;
        }
    }
    return faults;
 }
 int simulateOptimal(int pages[], int pageCount, int frameCount) {
    int frames[10];
    for (int i = 0; i < frameCount; i++) frames[i] = -1;
    int faults = 0;
    for (int i = 0; i < pageCount; i++) {
        bool found = false;
        for (int j = 0; j < frameCount; j++) if (frames[j] == pages[i]) { found = true; break; }
        if (!found) {
            int replaceIndex = -1, farthest = i;
            for (int j = 0; j < frameCount; j++) {
                int k;
                for (k = i + 1; k < pageCount; k++) if (frames[j] == pages[k]) break;
                if (k > farthest) { farthest = k; replaceIndex = j; }
            }
            if (replaceIndex == -1) replaceIndex = 0;
            frames[replaceIndex] = pages[i];
            faults++;
        }
    }
    return faults;
 }
 int main() {
    int pageCount, frameCount;
    cout << "Enter number of pages: "; cin >> pageCount;
    int pages[50]; cout << "Enter reference string: "; for (int i = 0; i < pageCount; i++) cin >>
 pages[i];
    cout << "Enter number of frames: "; cin >> frameCount;
    cout << "FIFO Faults: " << simulateFIFO(pages, pageCount, frameCount) << endl;
    cout << "LRU Faults: " << simulateLRU(pages, pageCount, frameCount) << endl;
    cout << "Optimal Faults: " << simulateOptimal(pages, pageCount, frameCount) << endl;
    return 0;
 }